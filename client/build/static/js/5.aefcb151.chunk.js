(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{101:function(e,t){(function(t){e.exports=t}).call(this,{})},113:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(114),u=a.n(c);t.a=function(e){var t=(e.budget.budget-e.budget.remaining)/e.budget.budget*300;t>300&&(t=300),e.small&&(t=(e.budget.budget-e.budget.remaining)/e.budget.budget*150)>150&&(t=150);var a=(e.budget.budget-e.budget.remaining).toFixed(2);return a>1e6&&(a=""),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:e.small?u.a.SmallCategory:u.a.Category},e.budget.category),r.a.createElement("div",{className:e.small?u.a.SmallBudgetOval:u.a.BudgetOval},r.a.createElement("div",{className:e.small?u.a.SmallBudgetOverlay:u.a.BudgetOverlay,style:{width:"".concat(t,"px")}},r.a.createElement("span",{className:e.small?t<70?u.a.SmallShowRight:u.a.SmallOverlaySpan:t<140?u.a.ShowRight:u.a.OverlaySpan},"$",a))),r.a.createElement("span",{className:e.small?u.a.SmallBudgetVal:u.a.BudgetVal},"$",Number(Number(e.budget.budget).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))}},114:function(e,t,a){e.exports={Category:"BudgetBars_Category__2dEtV",SmallCategory:"BudgetBars_SmallCategory__t6urY",BudgetOval:"BudgetBars_BudgetOval__2Pj4h",SmallBudgetOval:"BudgetBars_SmallBudgetOval__3-w8T",BudgetOverlay:"BudgetBars_BudgetOverlay__3mnns",SmallBudgetOverlay:"BudgetBars_SmallBudgetOverlay__291IJ",OverlaySpan:"BudgetBars_OverlaySpan__2fvHi",SmallOverlaySpan:"BudgetBars_SmallOverlaySpan__3s6I3",ShowRight:"BudgetBars_ShowRight__3ZVne",SmallShowRight:"BudgetBars_SmallShowRight__14ilS",BudgetVal:"BudgetBars_BudgetVal__3yyPu",SmallBudgetVal:"BudgetBars_SmallBudgetVal__21xgo"}},115:function(e,t,a){"use strict";var n=a(14),r=a(0),c=a.n(r),u=a(116),l=a.n(u),o=a(95),i=a(94),d=a(96);t.a=function(e){var t=Object(r.useRef)(),a=Object(r.useState)(""),u=Object(n.a)(a,2),s=u[0],g=u[1],m=function(a){t.current.contains(a.target)||e.close()};return Object(r.useEffect)((function(){return e.show&&document.addEventListener("mousedown",m),function(){return document.removeEventListener("mousedown",m)}}),[e.show]),c.a.createElement("div",{className:e.showUp?e.show?l.a.PanelUp:l.a.HideUp:e.show?l.a.PanelDown:l.a.HideDown,ref:t},c.a.createElement("div",{className:l.a.CloseBtn},c.a.createElement(o.a,{close:e.close})),c.a.createElement("p",{className:l.a.Title},"Please type 'DELETE' to delete your ",e.mode,"."),c.a.createElement("div",{className:l.a.Input},c.a.createElement(i.b,{val:s,change:function(e){return g(e)}})),c.a.createElement("div",{className:l.a.DeleteBtn},c.a.createElement(d.a,{clicked:function(){"DELETE"===s&&e.delete()}},"Delete")))}},116:function(e,t,a){e.exports={PanelUp:"DeletePanel_PanelUp__el7Si",PanelDown:"DeletePanel_PanelDown__1rU4U",HideUp:"DeletePanel_HideUp__3Jm5o",HideDown:"DeletePanel_HideDown__2jQLv",Title:"DeletePanel_Title__3DMGn",CloseBtn:"DeletePanel_CloseBtn__2400p",DeleteBtn:"DeletePanel_DeleteBtn__3HYvl",Input:"DeletePanel_Input__1J98P"}},130:function(e,t,a){e.exports={Container:"BudgetPage_Container__3buPB",OuterContent:"BudgetPage_OuterContent__39FJh",Content:"BudgetPage_Content__1v03f",Budget:"BudgetPage_Budget__1pxzh",Charts:"BudgetPage_Charts__Xl5l7",HideCharts:"BudgetPage_HideCharts__Yya0t",Chart:"BudgetPage_Chart__1OQER",NewDiv:"BudgetPage_NewDiv__OESoN",Btns:"BudgetPage_Btns__5P0xh",BtnsBtn:"BudgetPage_BtnsBtn__3qMq5",Title:"BudgetPage_Title__2Y8ac",BudgetDiv:"BudgetPage_BudgetDiv__3vJFD",InnerBudgetDiv:"BudgetPage_InnerBudgetDiv__3MqCi",ShowBtn:"BudgetPage_ShowBtn__eQ-ou",AddBtn:"BudgetPage_AddBtn__gi9xy",CaretDown:"BudgetPage_CaretDown__305Z5",CaretRight:"BudgetPage_CaretRight__3zz4H",Transactions:"BudgetPage_Transactions__2wWvx",HideTransactions:"BudgetPage_HideTransactions__AOzgR",Transaction:"BudgetPage_Transaction__2EwoV",ShowAddTrans:"BudgetPage_ShowAddTrans__1noxi",HideAddTrans:"BudgetPage_HideAddTrans__pm1PT",TotalBudget:"BudgetPage_TotalBudget__3ltGC",ChartBtn:"BudgetPage_ChartBtn__2tuJa",CostInput:"BudgetPage_CostInput__26yIT"}},131:function(e,t,a){e.exports={Panel:"NewBudgetPanel_Panel__rao9V",HidePanel:"NewBudgetPanel_HidePanel__TxkKj",Field:"NewBudgetPanel_Field__1pmV6",InputDiv:"NewBudgetPanel_InputDiv__Txb62",BtnDiv:"NewBudgetPanel_BtnDiv__1C6j_",BtnDiv2:"NewBudgetPanel_BtnDiv2__2hFkO",BtnDiv3:"NewBudgetPanel_BtnDiv3__2fZa5",CreateBtn:"NewBudgetPanel_CreateBtn__2Zhmh",HideCreateBtn:"NewBudgetPanel_HideCreateBtn__wMZK7",Entries:"NewBudgetPanel_Entries__2l_NH",Text:"NewBudgetPanel_Text__2N3T3",ShowErr:"NewBudgetPanel_ShowErr__1RPMA",HideErr:"NewBudgetPanel_HideErr__3h1Wg"}},132:function(e,t,a){e.exports={ChartContainer:"BudgetChart_ChartContainer__26odE",Block:"BudgetChart_Block__zC9sB"}},133:function(e,t,a){e.exports={PanelUp:"BudgetPanel_PanelUp__1mFcf",HidePanelUp:"BudgetPanel_HidePanelUp__3Mem2",PanelDown:"BudgetPanel_PanelDown__6Ubmk",HidePanelDown:"BudgetPanel_HidePanelDown__22l0B",Budgets:"BudgetPanel_Budgets__3OLzW",ConfirmBtn:"BudgetPanel_ConfirmBtn__2_Kc0",AddBtn:"BudgetPanel_AddBtn__GvlFA",ShowErr:"BudgetPanel_ShowErr__1QAw4",HideErr:"BudgetPanel_HideErr__35mht"}},134:function(e,t,a){e.exports={ChartContainer:"BudgetByCateg_ChartContainer__1eYX6",Block:"BudgetByCateg_Block__Kxnud"}},152:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(2),c=a(18),u=a(14),l=a(0),o=a.n(l),i=a(130),d=a.n(i),s=a(19),g=a(11),m=a(131),_=a.n(m),B=a(95),b=a(17),f=a(96),v=a(94),h=Object(s.b)((function(e){return{isDemo:e.auth.isDemo}}),(function(e){return{setNewBudget:function(t){return e(g.q(t))},addNotif:function(t){return e(g.b(t))}}}))((function(e){var t=Object(l.useState)(""),a=Object(u.a)(t,2),r=a[0],i=a[1],d=Object(l.useState)(0),s=Object(u.a)(d,2),g=s[0],m=s[1],h=Object(l.useState)([]),E=Object(u.a)(h,2),p=E[0],N=E[1],C=Object(l.useState)(!1),w=Object(u.a)(C,2),P=w[0],O=w[1],y=Object(l.useState)(""),D=Object(u.a)(y,2),S=D[0],j=D[1],T=Object(l.useRef)();Object(l.useEffect)((function(){return e.show&&document.addEventListener("mousedown",x),function(){return document.removeEventListener("mousedown",x)}}),[e.show]);var x=function(e){T.current.contains(e.target)||H()},H=function(){i(""),m(0),N([]),O(!1),j(""),e.close()};return o.a.createElement("div",{className:e.show?_.a.Panel:_.a.HidePanel,ref:T},o.a.createElement("div",{className:_.a.BtnDiv},o.a.createElement(B.a,{close:H})),o.a.createElement("div",{className:_.a.InputDiv},o.a.createElement("div",{className:_.a.Field},o.a.createElement("p",{className:_.a.Text},"Category"),o.a.createElement(v.b,{val:r,change:function(e){e.length>100||(O(!1),i(e))}})),o.a.createElement("div",{className:_.a.Field},o.a.createElement("p",{className:_.a.Text},"Monthly budget"),o.a.createElement(v.c,{val:g,change:function(e){O(!1),m(e)}}))),o.a.createElement("div",{className:_.a.BtnDiv2},o.a.createElement(f.a,{clicked:function(){if(""!==r&&0!==g){var e,t=Object(n.a)(p);try{for(t.s();!(e=t.n()).done;){if(e.value.category===r)return O(!0),j("You already have a category with that name.")}}catch(P){t.e(P)}finally{t.f()}N([].concat(Object(c.a)(p),[{category:r,budget:g}])),i(""),m(0)}}},"Add category")),o.a.createElement("div",{className:_.a.Entries},p.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("span",null,e.category),o.a.createElement("span",null,e.budget))}))),o.a.createElement("div",{className:_.a.BtnDiv3},o.a.createElement("button",{onClick:function(){if(e.isDemo)return e.setNewBudget(p),e.addNotif("Budget created"),H();b.b.post("budgets",{budgets:p}).then((function(t){e.setNewBudget(p),e.addNotif("Budget created"),H()})).catch((function(e){O(!0),j("Error connecting to the server.")}))},className:p.length>0?_.a.CreateBtn:_.a.HideCreateBtn},"Create budget")),o.a.createElement("p",{className:P?_.a.ShowErr:_.a.HideErr},S))})),E=a(132),p=a.n(E),N=a(100),C=N.a.CanvasJSChart,w=Object(s.b)((function(e){return{budget:e.budget.budget}}))((function(e){var t=0,a=0;e.budget.forEach((function(e){t+=Number(e.budget),a+=Number(e.budget-e.remaining)}));var n=(a/t*100).toFixed(2);n>1e3&&(n="over 1000");var r=[{name:"Total Spent",y:Number(a).toFixed(2),color:"rgb(18, 152, 189)"}];"over 1000"!==n&&r.push({name:"Remaining Budget",y:Number(t-a).toFixed(2),color:"rgb(26, 171, 152)"});var c={animationEnabled:!0,data:[{type:"doughnut",dataPoints:r,toolTipContent:"{name}: ${y}"}]};return o.a.createElement("div",{className:p.a.ChartContainer},o.a.createElement(C,{options:c}),o.a.createElement("div",{className:p.a.Block}),o.a.createElement("h1",null,"You've reached ",n,"% of your budget this month"))})),P=a(15),O=a(133),y=a.n(O),D=a(92),S=Object(s.b)((function(e){return{budget:e.budget.budget,isDemo:e.auth.isDemo}}),(function(e){return{setNewBudget:function(t){return e(g.q(t))},setBudget:function(t){return e(g.n(t))},addNotif:function(t){return e(g.b(t))}}}))((function(e){var t=Object(l.useState)([]),a=Object(u.a)(t,2),n=a[0],i=a[1],d=Object(l.useState)(!1),s=Object(u.a)(d,2),g=s[0],m=s[1],_=Object(l.useState)(""),f=Object(u.a)(_,2),h=f[0],E=f[1],p=Object(l.useRef)();Object(l.useEffect)((function(){return e.show&&(i(e.budget.map((function(e){return Object(r.a)({},e,{id:Object(D.a)()})}))),document.addEventListener("mousedown",N)),function(){return document.removeEventListener("mousedown",N)}}),[e.show,e.budget]);var N=function(e){p.current.contains(e.target)||C()},C=function(){w(!1),i([]),e.close()},w=function(e){if(e)return m(!0),E("Error connecting to the server.");m(!1),E("")},P=function(){e.setBudget(Object(c.a)(n)),e.addNotif("Budget updated"),C()};return o.a.createElement("div",{className:e.showUp?e.show?y.a.PanelUp:y.a.HidePanelUp:e.show?y.a.PanelDown:y.a.HidePanelDown,ref:p},o.a.createElement("div",null,o.a.createElement(B.a,{close:C})),o.a.createElement("div",{className:y.a.Budgets},n.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(v.b,{val:e.category,change:function(t){return function(e,t){m(!1),i(n.map((function(a){return a.id===t?Object(r.a)({},a,{category:e}):a})))}(t,e.id)}}),o.a.createElement(v.c,{val:e.budget,change:function(t){return function(e,t){m(!1),i(n.map((function(a){return a.id===t?Object(r.a)({},a,{budget:e}):a})))}(t,e.id)}}),o.a.createElement(B.a,{close:function(){return t=e.id,void i(n.filter((function(e){return e.id!==t})));var t}}))})),o.a.createElement("div",{className:y.a.AddBtn},o.a.createElement("button",{onClick:function(){i(n.concat({category:"",budget:0,transactions:[]}))}},"Add a new category"))),o.a.createElement("div",{className:y.a.ConfirmBtn},o.a.createElement("button",{onClick:function(){if(m(!1),function(){if(!n.length)return m(!0),E("You need to have at least one category."),!1;if(new Set(n.map((function(e){return e.category}))).size!==n.length)return m(!0),E("You cannot have categories with the same names."),!1;for(var e=0;e<n.length;e++){if(0===n[e].budget)return m(!0),E("Budget values cannot be zero."),!1;if(""===n[e].category)return m(!0),E("Category names cannot be empty."),!1}return!0}())return e.isDemo?P():void b.b.put("budgets",{budgets:n}).then((function(e){P()})).catch((function(e){w(!0)}))}},"Confirm")),o.a.createElement("p",{className:g?y.a.ShowErr:y.a.HideErr},h))})),j=a(113),T=a(134),x=a.n(T),H=["#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"],k=function(e){var t,a=0,r=Object(n.a)(e.budget);try{for(r.s();!(t=r.n()).done;){var c=t.value;a+=c.budget}}catch(l){r.e(l)}finally{r.f()}var u={animationEnabled:!0,data:[{type:"pie",toolTipContent:"{label}: {y}% (${val})",indexLabel:"{y}%",indexLabelFontWeight:"bold",indexLabelPlacement:"inside",dataPoints:e.budget.map((function(e,t){return{label:e.category,y:(e.budget/a*100).toFixed(2),val:Number(e.budget).toFixed(2),color:H[t%6]}}))}]};return o.a.createElement("div",{className:x.a.ChartContainer},o.a.createElement(N.a.CanvasJSChart,{options:u}),o.a.createElement("div",{className:x.a.Block}))},I=a(115);t.default=Object(s.b)((function(e){return{budget:e.budget.budget,isDemo:e.auth.isDemo}}),(function(e){return{setBudget:function(t){return e(g.n(t))},addNotif:function(t){return e(g.b(t))},deleteBudget:function(){return e(g.g())}}}))((function(e){var t,a=Object(l.useState)(!1),i=Object(u.a)(a,2),s=i[0],g=i[1],m=Object(l.useState)(!1),_=Object(u.a)(m,2),E=_[0],p=_[1],N=Object(l.useState)(!1),C=Object(u.a)(N,2),O=C[0],y=C[1],D=Object(l.useState)([]),T=Object(u.a)(D,2),x=T[0],H=T[1],A=Object(l.useState)(""),F=Object(u.a)(A,2),U=F[0],R=F[1],L=Object(l.useState)(""),J=Object(u.a)(L,2),M=J[0],V=J[1],Y=Object(l.useState)(""),z=Object(u.a)(Y,2),$=z[0],q=z[1],Z=Object(l.useState)(!0),K=Object(u.a)(Z,2),Q=K[0],W=K[1],G=function(){if(""!==$&&0!==$&&""!==M){var t=e.budget.map((function(e,t){if(e.category===U){var a=Object(c.a)(e.transactions);return 20===a.length&&a.pop(),a.unshift({desc:M,val:$,date:String(new Date)}),Object(r.a)({},e,{transactions:a})}return e}));if(e.isDemo)return R(""),e.addNotif("Transaction Added"),e.setBudget(t);b.b.put("budgets",{budgets:t}).then((function(a){R(""),e.addNotif("Transaction Added"),e.setBudget(t)})).catch((function(e){console.log(e)}))}},X=function(){e.deleteBudget(),e.addNotif("Budget deleted"),y(!1)},ee=0,te=Object(n.a)(e.budget);try{for(te.s();!(t=te.n()).done;){ee+=t.value.budget}}catch(ae){te.e(ae)}finally{te.f()}return o.a.createElement("div",{className:d.a.Container},o.a.createElement("div",{className:d.a.OuterContent},o.a.createElement("h1",{className:d.a.Title},"Budgeting"),e.budget.length?o.a.createElement("div",{className:d.a.Content},o.a.createElement("div",{className:Q?d.a.Charts:d.a.HideCharts},o.a.createElement("div",{className:d.a.Chart},o.a.createElement(w,{mode:"Normal"})),o.a.createElement("div",{className:d.a.Chart},o.a.createElement(k,{budget:e.budget})),o.a.createElement("div",{className:d.a.ChartBtn},o.a.createElement("button",{onClick:function(){return W((function(e){return!e}))}},Q?"Hide Charts":"Show Charts",o.a.createElement("span",{className:Q?d.a.CaretDown:d.a.CaretRight},P.b)))),o.a.createElement("div",{className:d.a.Budget},o.a.createElement("h1",{className:d.a.TotalBudget},"Total monthly budget: $",ee.toFixed(2)),o.a.createElement("div",{className:d.a.Btns},o.a.createElement("div",{className:d.a.BtnsBtn},o.a.createElement(f.a,{big:!0,noMargin:!0,clicked:function(){return p(!0)}},"Edit Budget")),o.a.createElement("div",{className:d.a.BtnsBtn},o.a.createElement(f.a,{big:!0,noMargin:!0,clicked:function(){return y(!0)}},"Delete Budget")),o.a.createElement(S,{showUp:Q,show:E,close:function(){return p(!1)}}),o.a.createElement(I.a,{showUp:Q,show:O,mode:"budget",close:function(){return y(!1)},delete:function(){if(e.isDemo)return X();b.b.delete("budgets").then((function(e){X()})).catch((function(e){}))}})),e.budget.map((function(e,t){return o.a.createElement("div",{className:d.a.BudgetDiv,key:t},o.a.createElement("div",{className:d.a.InnerBudgetDiv},o.a.createElement(j.a,{budget:e}),o.a.createElement("div",null,o.a.createElement("button",{className:d.a.ShowBtn,onClick:function(){return function(e){if(-1===x.findIndex((function(t){return t===e})))return H(x.concat([e]));H(x.filter((function(t){return t!==e})))}(e.category)}},"Transactions",o.a.createElement("span",{className:x.includes(e.category)?d.a.CaretDown:d.a.CaretRight},P.b)),o.a.createElement("button",{className:d.a.AddBtn,onClick:function(){return t=e.category,V(""),q(""),void R(t);var t}},"Add Transaction"))),o.a.createElement("div",{className:x.includes(e.category)?d.a.Transactions:d.a.HideTransactions},e.transactions.map((function(e,t){var a=new Date(e.date).toJSON().slice(0,10).split("-"),n=[a[1],a[2],a[0].slice(2)].join("/");return o.a.createElement("div",{className:d.a.Transaction,key:t},o.a.createElement("div",null,e.desc),o.a.createElement("div",null,"$",Number(e.val).toFixed(2)),o.a.createElement("div",null,n))}))),o.a.createElement("div",{className:U===e.category?d.a.ShowAddTrans:d.a.HideAddTrans},o.a.createElement(v.b,{val:M,change:function(e){return V(e)},ph:"Transaction Description"}),o.a.createElement("div",{className:d.a.CostInput},o.a.createElement(v.c,{val:$,change:function(e){return q(e)},ph:"Cost"})),o.a.createElement("div",{className:d.a.BtnDiv},o.a.createElement(f.a,{big:!0,noMargin:!0,clicked:G},"Add"),o.a.createElement(B.a,{budget:!0,close:function(){return R("")}}))))})))):o.a.createElement("div",{className:d.a.NewDiv},o.a.createElement(f.a,{big:!0,noMargin:!0,clicked:function(){return g(!0)}},"Create a new budget"),o.a.createElement(h,{show:s,close:function(){return g(!1)}}))))}))},94:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),c=a(99),u=a.n(c),l=function(e){return r.a.createElement("input",{value:e.val,onChange:function(t){return e.change(t.target.value)},className:u.a.Input,placeholder:e.ph})},o=function(e){return r.a.createElement("input",{value:e.val,onChange:function(t){var a=t.target.value;isNaN(a)||(2===a.length&&"0"===a.charAt(0)&&"."!==a.charAt(1)&&(a=a.slice(1)),""===a&&(a=0),e.change(a))},className:u.a.Input,placeholder:e.ph})},i=function(e){return r.a.createElement("input",{type:"date",value:e.val,onChange:function(t){return e.change(t.target.value)},className:u.a.DateInput})}},95:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(97),u=a.n(c),l=a(15);t.a=function(e){return r.a.createElement("button",{className:e.budget?u.a.CloseBudgetBtn:u.a.CloseBtn,onClick:e.close},r.a.createElement("span",{className:u.a.Icon},l.h))}},96:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(98),u=a.n(c);t.a=function(e){return r.a.createElement("button",{className:e.big?e.noMargin?u.a.NoBigBtn:u.a.BigBtn:u.a.Btn,onClick:e.clicked},e.children)}},97:function(e,t,a){e.exports={Icon:"CloseBtn_Icon__2kCvJ",CloseBtn:"CloseBtn_CloseBtn__2xpN8",CloseBudgetBtn:"CloseBtn_CloseBudgetBtn__21m8o"}},98:function(e,t,a){e.exports={BigBtn:"BlueBtn_BigBtn__3hb37",Btn:"BlueBtn_Btn__O1Uk4",NoBigBtn:"BlueBtn_NoBigBtn__2jTSw"}},99:function(e,t,a){e.exports={Input:"Inputs_Input__1d94w",DateInput:"Inputs_DateInput__2B532"}}}]);
//# sourceMappingURL=5.aefcb151.chunk.js.map