{"version":3,"sources":["components/UI/Btns/GreenBtn/GreenBtn.js","components/UI/Form/Form.js","utils/formatDate.js","components/UI/Btns/GreenBtn/GreenBtn.module.css","../node_modules/webpack/buildin/amd-options.js","components/BudgetPage/BudgetBars/BudgetBars.js","components/BudgetPage/BudgetBars/BudgetBars.module.css","components/UI/DeletePanel/DeletePanel.js","components/UI/DeletePanel/DeletePanel.module.css","utils/customHooks.js","components/BudgetPage/BudgetPage/BudgetPage.module.css","components/BudgetPage/NewBudgetPanel/NewBudgetPanel.module.css","components/BudgetPage/EditBudgetPanel/EditBudgetPanel.module.css","components/UI/Btns/TrashBtn/TrashBtn.module.css","components/BudgetPage/AddTrans/AddTrans.module.css","components/BudgetPage/ChartContainer/ChartContainer.module.css","components/BudgetPage/BudgetChart/BudgetChart.module.css","components/BudgetPage/CategChart/CategChart.module.css","components/BudgetPage/NewBudgetPanel/NewBudgetPanel.js","components/UI/Btns/TrashBtn/TrashBtn.js","components/BudgetPage/EditBudgetPanel/EditBudgetPanel.js","components/BudgetPage/AddTrans/AddTrans.js","components/BudgetPage/BudgetChart/BudgetChart.js","components/BudgetPage/CategChart/CategChart.js","components/BudgetPage/ChartContainer/ChartContainer.js","components/BudgetPage/BudgetPage/BudgetPage.js"],"names":["GreenBtn","props","type","isSubmit","className","big","classes","BigBtn","Btn","onClick","clicked","children","Form","onSubmit","e","preventDefault","allow","submit","formatDate","date","split","charAt","slice","String","Date","getFullYear","join","formatDate2","y","m","getMonth","length","d","getDate","formatDate3","module","exports","__webpack_amd_options__","BudgetBars","useState","width","setWidth","spent","setSpent","remLeft","setRemLeft","useEffect","budgetWidth","budget","remaining","small","budgetSpent","formatNum","remPos","darkMode","SmallBar","Dark","Bar","SmallCategory","Category","category","OvalContainer","SmallOval","Oval","SmallOverlay","Overlay","style","SmallShowRight","SmallOverlaySpan","ShowRight","OverlaySpan","Hide","Remaining","left","Overlay2","SmallBudgetVal","BudgetVal","connect","state","dark","theme","text","setText","inputRef","useRef","show","current","focus","close","mode","GoalPanel","HideDown","showUp","PanelUp","HideUp","PanelDown","CloseBtn","Title","color","Input","val","change","ref","dark2","DeleteBtn","delete","usePrevious","value","isDemo","auth","dispatch","setNewBudget","actions","addNotif","msg","categVal","setCategVal","budgetVal","setBudgetVal","budgets","setBudgets","err","setErr","errMsg","setErrMsg","closeHandler","PanelContainer","Panel","HidePanel","InputDiv","Field","Text","AddBtn","BlueBtn","validate","validateAdd","Entries","map","i","key","CreateBtn","HideCreateBtn","axios","post","then","res","catch","ShowErr","HideErr","TrashBtn","DarkBtn","trashIcon","setBudget","id","uuid","errHandler","bool","confirmHelper","updatedBudgets","HidePanelUp","HidePanelDown","Budgets","Budget","budg","categValHandler","budgetValHandler","filter","concat","transactions","plusIcon","ConfirmBtn","Set","size","confirmValidation","forEach","put","AddTrans","descRef","setTimeout","confirm","ShowAddTrans","HideAddTrans","transDesc","changeDesc","ph","CostInput","transCost","changeCost","totBudget","totSpent","Number","percReached","toFixed","dataPoints","name","push","options","backgroundColor","data","toolTipContent","ChartContainer","Chart","colors","label","indexLabel","indexLabelFontWeight","indexLabelPlacement","prevShow","showChart","setShowChart","prev","Charts","HideCharts","CaretDown","CaretRight","caretIcon","notif","deleteBudget","showCreate","setShowCreate","showBudgetPanel","setShowBudgetPanel","showDeletePanel","setShowDeletePanel","showCategs","setShowCategs","addTransCateg","setAddTransCateg","setTransDesc","setTransCost","showCharts","setShowCharts","setTotBudget","tot","confirmAddTransHandler","pop","unshift","desc","console","log","deleteHelper","Container","Content","Fragment","TotalBudget","Options","pencilIcon","DeletePanel","BudgetDiv","Btns","ShowBtn","categ","findIndex","showTransHandler","includes","Transactions","HideTransactions","transaction","Transaction","marginTop","NewDiv","NewBudgetPanel"],"mappings":"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","file":"static/js/7.44ffcf65.chunk.js","sourcesContent":["import React from 'react';\r\nimport classes from './GreenBtn.module.css';\r\n\r\nconst GreenBtn = props => (\r\n  <button type={props.isSubmit ? 'submit' : 'button'} className={props.big ? classes.BigBtn : classes.Btn} onClick={props.clicked}>{props.children}</button>\r\n);\r\n\r\nexport default GreenBtn;\r\n","import React from 'react';\r\n\r\nconst Form = props => (\r\n  <form onSubmit={e => { e.preventDefault(); if (props.allow) { props.submit(); } }}>{props.children}</form>\r\n);\r\n\r\nexport default Form;\r\n","export const formatDate = date => {\r\n  date = date.split('-');\r\n  let m = date[1].charAt(0) === '0' ? date[1].slice(1) : date[1];\r\n  let d = date[2].charAt(0) === '0' ? date[2].slice(1) : date[2];\r\n  let y = date[0] === String(new Date().getFullYear()) ? date[0].slice(2) : date[0];\r\n  return [m, d, y].join('/');\r\n};\r\n\r\nexport const formatDate2 = date => {\r\n  let y = date.getFullYear();\r\n  let m = '' + (date.getMonth() + 1);\r\n  if (m.length < 2) { m = '0' + m; }\r\n  let d = '' + date.getDate();\r\n  if (d.length < 2) { d = '0' + d; }\r\n  return [y, m, d].join('-');\r\n};\r\n\r\nexport const formatDate3 = date => {\r\n  let y = '' + date.getFullYear();\r\n  if (y === '2020') { y = '20'; }\r\n  let m = '' + (date.getMonth() + 1);\r\n  let d = '' + date.getDate();\r\n  return [m, d, y].join('/');\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BigBtn\":\"GreenBtn_BigBtn__1RpQc\",\"Btn\":\"GreenBtn_Btn__2UGmh\"};","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import React, { useState, useEffect } from 'react';\r\nimport classes from './BudgetBars.module.css';\r\nimport { formatNum } from '../../../utils/formatNum';\r\n\r\nconst BudgetBars = props => {\r\n  const [width, setWidth] = useState(0);\r\n  const [spent, setSpent] = useState('');\r\n  const [remLeft, setRemLeft] = useState(88);\r\n\r\n  useEffect(() => {\r\n    let budgetWidth = ((props.budget.budget - props.budget.remaining) / props.budget.budget) * 304;\r\n    // prevent budget bar from overflowing max width\r\n    if (budgetWidth > 304) { budgetWidth = 304; }\r\n    if (props.small) {\r\n      // adjust budget bars for home screen\r\n      budgetWidth = ((props.budget.budget - props.budget.remaining) / props.budget.budget) * 152;\r\n      if (budgetWidth > 152) { budgetWidth = 152; }\r\n    }\r\n    let budgetSpent = props.budget.budget - props.budget.remaining;\r\n    // doesn't show budget spent if over $999,999,999\r\n    if (budgetSpent > 999999999) { budgetSpent = ''; }\r\n    else { budgetSpent = '$' + formatNum(budgetSpent); }\r\n    // get position for remaining popup\r\n    let remPos = (304 - budgetWidth) / 2 + budgetWidth - 64;\r\n    setWidth(budgetWidth);\r\n    setSpent(budgetSpent);\r\n    setRemLeft(remPos);\r\n  }, [props.budget, props.small]);\r\n\r\n  return (\r\n    <div className={props.small ? (props.darkMode ? `${classes.SmallBar} ${classes.Dark}` : classes.SmallBar) :\r\n    (props.darkMode ? `${classes.Bar} ${classes.Dark}` : classes.Bar)}>\r\n      <span className={props.small ? classes.SmallCategory : classes.Category}>{props.budget.category}</span>\r\n      <div className={classes.OvalContainer}>\r\n        <div className={props.small ? classes.SmallOval : classes.Oval}>\r\n          <div className={props.small ? classes.SmallOverlay : classes.Overlay} style={{ width: `${width}px` }}>\r\n            <span className={props.small ? (width < 70 ? classes.SmallShowRight : classes.SmallOverlaySpan)\r\n              : width < 140 ? classes.ShowRight : classes.OverlaySpan}>{spent}</span>\r\n            {!props.small && <div className={props.budget.remaining <= 0 ? classes.Hide : classes.Remaining} style={{ left: `${remLeft}px` }}>\r\n              ${formatNum(props.budget.remaining)} remaining\r\n            </div>}\r\n          </div>\r\n        </div>\r\n        {!props.small && <div className={classes.Overlay2} style={{ width: `${width}px` }}></div>}\r\n      </div>\r\n      <span className={props.small ? classes.SmallBudgetVal : classes.BudgetVal}>\r\n        ${formatNum(props.budget.budget)}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetBars;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Bar\":\"BudgetBars_Bar__25AEI\",\"SmallBar\":\"BudgetBars_SmallBar__13JoK\",\"Category\":\"BudgetBars_Category__31ie1\",\"SmallCategory\":\"BudgetBars_SmallCategory__3BVX4\",\"Dark\":\"BudgetBars_Dark__Ob_N4\",\"Oval\":\"BudgetBars_Oval__3KSoF\",\"SmallOval\":\"BudgetBars_SmallOval__1esgz\",\"Overlay\":\"BudgetBars_Overlay__2rZu2\",\"SmallOverlay\":\"BudgetBars_SmallOverlay__2DI2K\",\"OverlaySpan\":\"BudgetBars_OverlaySpan__1tGrY\",\"SmallOverlaySpan\":\"BudgetBars_SmallOverlaySpan__HHn-o\",\"ShowRight\":\"BudgetBars_ShowRight__3anwZ\",\"SmallShowRight\":\"BudgetBars_SmallShowRight__Z_fJV\",\"BudgetVal\":\"BudgetBars_BudgetVal__1jaTn\",\"SmallBudgetVal\":\"BudgetBars_SmallBudgetVal__fAg45\",\"Overlay2\":\"BudgetBars_Overlay2__qs7w0\",\"Remaining\":\"BudgetBars_Remaining__1F9Sn\",\"Hide\":\"BudgetBars_Hide__1P2Ps\",\"OvalContainer\":\"BudgetBars_OvalContainer__1vEpg\"};","import React, { useState, useRef, useEffect } from 'react';\r\nimport classes from './DeletePanel.module.css';\r\nimport CloseBtn from '../Btns/CloseBtn/CloseBtn';\r\nimport { Input } from '../Inputs/Inputs';\r\nimport BlueBtn from '../Btns/BlueBtn/BlueBtn';\r\nimport PanelContainer from '../PanelContainer/PanelContainer';\r\nimport { connect } from 'react-redux';\r\n\r\nconst DeletePanel = props => {\r\n  const [text, setText] = useState('');\r\n  const inputRef = useRef();\r\n\r\n  useEffect(() => { if (props.show) { inputRef.current.focus(); } }, [props.show]);\r\n\r\n  const deleteHandler = () => {\r\n    // delete only if user types DELETE\r\n    if (text === 'DELETE') {\r\n      setText('');\r\n      props.delete();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PanelContainer show={props.show} close={props.close}>\r\n      <div className={props.mode === 'goal' ? (props.show ? classes.GoalPanel : classes.HideDown) :\r\n        (props.showUp ? (props.show ? classes.PanelUp : classes.HideUp) : (props.show ? classes.PanelDown : classes.HideDown))}>\r\n        <div className={classes.CloseBtn}><CloseBtn close={props.close} /></div>\r\n        <p className={classes.Title} style={props.dark ? {color: 'rgb(var(--light-blue3))'} : null}>Please type 'DELETE' to delete your {props.mode}.</p>\r\n        <div className={classes.Input}><Input val={text} change={val => setText(val)} ref={inputRef} dark2={props.dark} /></div>\r\n        <div className={classes.DeleteBtn}><BlueBtn clicked={deleteHandler}>Delete</BlueBtn></div>\r\n      </div>\r\n    </PanelContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  dark: state.theme.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeletePanel);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PanelUp\":\"DeletePanel_PanelUp__14XQe\",\"PanelDown\":\"DeletePanel_PanelDown__j6b4G\",\"HideUp\":\"DeletePanel_HideUp__3cQxN\",\"HideDown\":\"DeletePanel_HideDown__3WUE5\",\"GoalPanel\":\"DeletePanel_GoalPanel__3onlR\",\"HideGoalPanel\":\"DeletePanel_HideGoalPanel__BWA4R\",\"Title\":\"DeletePanel_Title__h8wfy\",\"CloseBtn\":\"DeletePanel_CloseBtn__2TGiN\",\"DeleteBtn\":\"DeletePanel_DeleteBtn__3OtZY\",\"Input\":\"DeletePanel_Input__pTJyM\"};","import { useRef, useEffect } from 'react';\r\n\r\n// usePrevious custom hook\r\nexport const usePrevious = value => {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"BudgetPage_Container__3SV0s\",\"Content\":\"BudgetPage_Content__3pKcc\",\"Budget\":\"BudgetPage_Budget__14YCt\",\"NewDiv\":\"BudgetPage_NewDiv__23T2w\",\"CreateBtn\":\"BudgetPage_CreateBtn__32hCL\",\"Options\":\"BudgetPage_Options__2TiLL\",\"Btn\":\"BudgetPage_Btn__ZugOf\",\"Title\":\"BudgetPage_Title__22hdV\",\"BudgetDiv\":\"BudgetPage_BudgetDiv__15Fx5\",\"ShowBtn\":\"BudgetPage_ShowBtn__ljfaY\",\"Dark\":\"BudgetPage_Dark__2s880\",\"AddBtn\":\"BudgetPage_AddBtn__13sgH\",\"CaretDown\":\"BudgetPage_CaretDown__2qc53\",\"CaretRight\":\"BudgetPage_CaretRight__3-nAE\",\"Transactions\":\"BudgetPage_Transactions__2sTYo\",\"HideTransactions\":\"BudgetPage_HideTransactions__2bhxj\",\"Transaction\":\"BudgetPage_Transaction__3N8M3\",\"TotalBudget\":\"BudgetPage_TotalBudget__pER0i\",\"Btns\":\"BudgetPage_Btns__15Iup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Panel\":\"NewBudgetPanel_Panel__ft-O6\",\"HidePanel\":\"NewBudgetPanel_HidePanel__1kNVN\",\"Field\":\"NewBudgetPanel_Field__2vOFP\",\"InputDiv\":\"NewBudgetPanel_InputDiv__3wgts\",\"AddBtn\":\"NewBudgetPanel_AddBtn__2e88A\",\"CreateBtn\":\"NewBudgetPanel_CreateBtn__2zSvL\",\"HideCreateBtn\":\"NewBudgetPanel_HideCreateBtn__JbRHG\",\"Entries\":\"NewBudgetPanel_Entries__1sPqn\",\"Text\":\"NewBudgetPanel_Text__VsC77\",\"ShowErr\":\"NewBudgetPanel_ShowErr__1rt_v\",\"HideErr\":\"NewBudgetPanel_HideErr__XUq48\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PanelUp\":\"EditBudgetPanel_PanelUp__3AgME\",\"HidePanelUp\":\"EditBudgetPanel_HidePanelUp__37nfl\",\"PanelDown\":\"EditBudgetPanel_PanelDown__1iH3H\",\"HidePanelDown\":\"EditBudgetPanel_HidePanelDown__21Pqq\",\"Budgets\":\"EditBudgetPanel_Budgets__1l5lk\",\"Budget\":\"EditBudgetPanel_Budget__3kLEy\",\"ConfirmBtn\":\"EditBudgetPanel_ConfirmBtn__3w2Fy\",\"AddBtn\":\"EditBudgetPanel_AddBtn__1RiCf\",\"ShowErr\":\"EditBudgetPanel_ShowErr__26SMT\",\"HideErr\":\"EditBudgetPanel_HideErr__3hG40\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"TrashBtn_Btn__1FsP3\",\"DarkBtn\":\"TrashBtn_DarkBtn__3y2Lu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShowAddTrans\":\"AddTrans_ShowAddTrans__16Ycs\",\"HideAddTrans\":\"AddTrans_HideAddTrans__2ONQD\",\"ConfirmBtn\":\"AddTrans_ConfirmBtn__2ZxUF\",\"CostInput\":\"AddTrans_CostInput__1ZXHA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Charts\":\"ChartContainer_Charts__8daXs\",\"HideCharts\":\"ChartContainer_HideCharts__3Co_0\",\"Chart\":\"ChartContainer_Chart__1_z4P\",\"CaretDown\":\"ChartContainer_CaretDown__3ZD4a\",\"CaretRight\":\"ChartContainer_CaretRight__3OLoj\",\"Btn\":\"ChartContainer_Btn__2BqhE\",\"DarkBtn\":\"ChartContainer_DarkBtn__17yKe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartContainer\":\"BudgetChart_ChartContainer__2vWo2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartContainer\":\"CategChart_ChartContainer__3n6D5\"};","import React, { useState } from 'react';\r\nimport classes from './NewBudgetPanel.module.css';\r\nimport { connect } from 'react-redux';\r\nimport CloseBtn from '../../UI/Btns/CloseBtn/CloseBtn';\r\nimport { instance as axios } from '../../../axios';\r\nimport * as actions from '../../../store/actions/index';\r\nimport BlueBtn from '../../UI/Btns/BlueBtn/BlueBtn';\r\nimport GreenBtn from '../../UI/Btns/GreenBtn/GreenBtn';\r\nimport { Input, NumInput } from '../../UI/Inputs/Inputs';\r\nimport PanelContainer from '../../UI/PanelContainer/PanelContainer';\r\nimport { formatNum } from '../../../utils/formatNum';\r\n\r\nconst BudgetPage = props => {\r\n  const [categVal, setCategVal] = useState('');\r\n  const [budgetVal, setBudgetVal] = useState(0);\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [err, setErr] = useState(false);\r\n  const [errMsg, setErrMsg] = useState('');\r\n\r\n  const closeHandler = () => {\r\n    setCategVal('');\r\n    setBudgetVal(0);\r\n    setBudgets([]);\r\n    setErr(false);\r\n    setErrMsg('');\r\n    props.close();\r\n  };\r\n\r\n  const budgetValHandler = val => {\r\n    setErr(false);\r\n    setBudgetVal(val);\r\n  };\r\n\r\n  const categValHandler = val => {\r\n    if (val.length > 100) { return; }\r\n    setErr(false);\r\n    setCategVal(val);\r\n  };\r\n\r\n  const validateAdd = () => {\r\n    // validate inputs\r\n    if (categVal === '') {\r\n      return 'The category name cannot be empty.';\r\n    }\r\n    if (categVal.length > 70) {\r\n      return 'Your category name is too long.';\r\n    }\r\n    if (budgetVal === 0 || budgetVal > 999999999) {\r\n      return 'Please enter a valid budget value.';\r\n    }\r\n    for (let budget of budgets) {\r\n      if (budget.category === categVal) {\r\n        return 'You already have a category with that name.';\r\n      }\r\n    }\r\n    return '';\r\n  };\r\n\r\n  const addHandler = () => {\r\n    const validate = validateAdd();\r\n    if (validate !== '') { setErr(true); return setErrMsg(validate); }\r\n    setBudgets([ ...budgets, { category: categVal, budget: budgetVal }]);\r\n    setCategVal('');\r\n    setBudgetVal(0);\r\n  };\r\n\r\n  const createHandler = () => {\r\n    if (props.isDemo) {\r\n      props.setNewBudget(budgets);\r\n      props.addNotif('Budget created');\r\n      return closeHandler();\r\n    }\r\n    axios.post('budgets', { budgets }).then(res => {\r\n      props.setNewBudget(budgets);\r\n      props.addNotif('Budget created');\r\n      closeHandler();\r\n    }).catch(err => {\r\n      setErr(true);\r\n      setErrMsg('Error connecting to the server.');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PanelContainer show={props.show} close={closeHandler}>\r\n      <div className={props.show ? classes.Panel : classes.HidePanel}>\r\n        <CloseBtn close={closeHandler} />\r\n        <div className={classes.InputDiv} style={props.dark ? {color: 'rgb(var(--light-blue3))'} : null}>\r\n          <div className={classes.Field}>\r\n            <p className={classes.Text}>Category</p>\r\n            <Input val={categVal} change={categValHandler} dark2={props.dark} />\r\n          </div>\r\n          <div className={classes.Field}>\r\n            <p className={classes.Text}>Monthly budget</p>\r\n            <NumInput val={budgetVal} change={budgetValHandler} dark2={props.dark} />\r\n          </div>\r\n        </div>\r\n        <div className={classes.AddBtn}>\r\n          <BlueBtn clicked={addHandler}>Add category</BlueBtn>\r\n        </div>\r\n        <div className={classes.Entries}>\r\n          {budgets.map((budget, i) => (\r\n            <div key={i} style={props.dark ? {color: 'rgb(var(--light-blue3))'} : null}>\r\n              <span>{budget.category}</span>\r\n              <span>${formatNum(budget.budget)}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className={budgets.length ? classes.CreateBtn : classes.HideCreateBtn}>\r\n          <GreenBtn clicked={createHandler}>Create budget</GreenBtn>\r\n        </div>\r\n        <p className={err ? classes.ShowErr : classes.HideErr} style={props.dark ? {color: 'rgb(var(--light-blue3))'} : null}>{errMsg}</p>\r\n      </div>\r\n    </PanelContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isDemo: state.auth.isDemo,\r\n  dark: state.theme.darkMode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setNewBudget: budget => dispatch(actions.setNewBudget(budget)),\r\n  addNotif: msg => dispatch(actions.addNotif(msg))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BudgetPage);\r\n","import React from 'react';\r\nimport classes from './TrashBtn.module.css';\r\nimport { trashIcon } from '../../UIIcons';\r\n\r\nconst TrashBtn = props => (\r\n  <button className={props.dark ? classes.DarkBtn : classes.Btn} onClick={props.clicked}>{trashIcon}</button>\r\n);\r\n\r\nexport default TrashBtn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport classes from './EditBudgetPanel.module.css';\r\nimport { connect } from 'react-redux';\r\nimport CloseBtn from '../../UI/Btns/CloseBtn/CloseBtn';\r\nimport { instance as axios } from '../../../axios';\r\nimport * as actions from '../../../store/actions/index';\r\nimport { Input, NumInput } from '../../UI/Inputs/Inputs';\r\nimport { v4 as uuid } from 'uuid';\r\nimport PanelContainer from '../../UI/PanelContainer/PanelContainer';\r\nimport BlueBtn from '../../UI/Btns/BlueBtn/BlueBtn';\r\nimport GreenBtn from '../../UI/Btns/GreenBtn/GreenBtn';\r\nimport TrashBtn from '../../UI/Btns/TrashBtn/TrashBtn';\r\nimport { plusIcon } from '../../UI/UIIcons';\r\n\r\nconst EditBudgetPanel = props => {\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [err, setErr] = useState(false);\r\n  const [errMsg, setErrMsg] = useState('');\r\n\r\n  useEffect(() => {\r\n    // sync state to props\r\n    if (props.show) {\r\n      setBudgets(props.budget.map(budget => ({ ...budget, id: uuid() })));\r\n    }\r\n  }, [props.show, props.budget]);\r\n\r\n  const closeHandler = () => {\r\n    errHandler(false);\r\n    setBudgets([]);\r\n    props.close();\r\n  };\r\n\r\n  const errHandler = bool => {\r\n    if (bool) { setErr(true); return setErrMsg('Error connecting to the server.'); }\r\n    setErr(false); setErrMsg('');\r\n  }\r\n\r\n  const budgetValHandler = (val, id) => {\r\n    setErr(false);\r\n    setBudgets(budgets.map(budg => {\r\n      if (budg.id === id) { return { ...budg, budget: val }; }\r\n      return budg;\r\n    }));\r\n  };\r\n\r\n  const categValHandler = (val, id) => {\r\n    setErr(false);\r\n    setBudgets(budgets.map(budg => {\r\n      if (budg.id === id) { return { ...budg, category: val }; }\r\n      return budg;\r\n    }));\r\n  };\r\n\r\n  const confirmValidation = () => {\r\n    // validate budgets & categories\r\n    if (!budgets.length) {\r\n      return 'You need to have at least one category.';\r\n    }\r\n    for (let i = 0; i < budgets.length; i++) {\r\n      if (budgets[i].budget === 0) {\r\n        return 'Budget values cannot be zero.';\r\n      }\r\n      if (budgets[i].budget > 999999999) {\r\n        return 'One of your budgets is too high.';\r\n      }\r\n      if (budgets[i].category === '') {\r\n        return 'Category names cannot be empty.';\r\n      }\r\n      if (budgets[i].category.length > 70) {\r\n        return 'One of your category names is too long.';\r\n      }\r\n    }\r\n    // can't have two budget categories w the same name\r\n    if (new Set(budgets.map(budg => budg.category)).size !== budgets.length) {\r\n      return 'You cannot have categories with the same names.';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  const confirmHelper = updatedBudgets => {\r\n    props.setBudget([...updatedBudgets]);\r\n    props.addNotif('Budget updated');\r\n    closeHandler();\r\n  };\r\n\r\n  const confirmHandler = () => {\r\n    setErr(false);\r\n    const validate = confirmValidation();\r\n    if (validate !== '') { setErr(true); return setErrMsg(validate); }\r\n    const updatedBudgets = [...budgets];\r\n    updatedBudgets.forEach(budget => delete budget.id);\r\n    if (props.isDemo) { return confirmHelper(updatedBudgets); }\r\n    axios.put('budgets', { budgets: updatedBudgets }).then(res => { confirmHelper(updatedBudgets); })\r\n    .catch(err => { errHandler(true); });\r\n  };\r\n\r\n  const addHandler = () => {\r\n    setBudgets(budgets.concat({ category: '', budget: 0, transactions: [], id: uuid() }));\r\n  };\r\n\r\n  const deleteOneHandler = id => {\r\n    setBudgets(budgets.filter(budget => budget.id !== id));\r\n  };\r\n\r\n  return (\r\n    <PanelContainer show={props.show} close={closeHandler}>\r\n      <div className={props.showUp ? (props.show ? classes.PanelUp : classes.HidePanelUp) : (props.show ? classes.PanelDown : classes.HidePanelDown)}>\r\n        <div><CloseBtn close={closeHandler} /></div>\r\n        <div className={classes.Budgets}>\r\n          {budgets.map(budget => (\r\n            <div key={budget.id} className={!props.dark ? classes.Budget : null}>\r\n              <Input val={budget.category} change={val => categValHandler(val, budget.id)} dark2={props.dark} />\r\n              <NumInput val={budget.budget} change={val => budgetValHandler(val, budget.id)} dark2={props.dark} />\r\n              <TrashBtn clicked={() => deleteOneHandler(budget.id)} dark={props.dark} />\r\n            </div>\r\n          ))}\r\n          <div className={classes.AddBtn}><BlueBtn clicked={addHandler}>{plusIcon}Add a new category</BlueBtn></div>\r\n        </div>\r\n        <div className={classes.ConfirmBtn}><GreenBtn big clicked={confirmHandler}>Confirm</GreenBtn></div>\r\n        <p className={err ? classes.ShowErr : classes.HideErr} style={props.dark ? {color: 'rgb(var(--light-blue3))'} : null}>{errMsg}</p>\r\n      </div>\r\n    </PanelContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  budget: state.budget.budget,\r\n  isDemo: state.auth.isDemo,\r\n  dark: state.theme.darkMode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setNewBudget: budget => dispatch(actions.setNewBudget(budget)),\r\n  setBudget: budget => dispatch(actions.setBudget(budget)),\r\n  addNotif: msg => dispatch(actions.addNotif(msg))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditBudgetPanel);\r\n","import React, { useEffect, useRef } from 'react';\r\nimport classes from './AddTrans.module.css';\r\nimport { Input, NumInput } from '../../UI/Inputs/Inputs';\r\nimport BlueBtn from '../../UI/Btns/BlueBtn/BlueBtn';\r\nimport PanelContainer from '../../UI/PanelContainer/PanelContainer';\r\nimport Form from '../../UI/Form/Form';\r\n\r\nconst AddTrans = props => {\r\n  const descRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (props.show) { setTimeout(() => descRef.current.focus(), 300); }\r\n  }, [props.show]);\r\n\r\n  return (\r\n    <PanelContainer close={props.close} show={props.show}>\r\n      <Form allow={props.show} submit={props.confirm}>\r\n        <div className={props.show ? classes.ShowAddTrans : classes.HideAddTrans}>\r\n          <Input val={props.transDesc} change={props.changeDesc} ph=\"Transaction Description\" ref={descRef} dark={props.darkMode} />\r\n          <div className={classes.CostInput}><NumInput val={props.transCost} change={props.changeCost} ph=\"Cost\" dark={props.darkMode} /></div>\r\n          <div className={classes.ConfirmBtn}><BlueBtn big isSubmit>Add</BlueBtn></div>\r\n        </div>\r\n      </Form>\r\n    </PanelContainer>\r\n  );\r\n};\r\n\r\nexport default AddTrans;\r\n","import React from 'react';\r\nimport classes from './BudgetChart.module.css';\r\nimport Chart from '../../UI/Chart/Chart';\r\nimport { connect } from 'react-redux';\r\n\r\nconst BudgetChart = props => {\r\n  let totBudget = 0;\r\n  let totSpent = 0;\r\n  props.budget.forEach(budget => {\r\n    totBudget += Number(budget.budget);\r\n    totSpent += Number(budget.budget - budget.remaining);\r\n  });\r\n  let percReached = (totSpent / totBudget * 100).toFixed(2);\r\n  // stops tracking percent of budget reached if over 1000%\r\n  if (percReached > 1000) { percReached = 'over 1000'; }\r\n\r\n  const dataPoints = [{ name: 'Total Spent', y: Number(totSpent).toFixed(2), color: 'rgb(18, 152, 189)' }];\r\n  if (percReached !== 'over 1000') {\r\n    dataPoints.push({ name: 'Remaining Budget', y: Number(totBudget - totSpent).toFixed(2), color: 'rgb(26, 171, 152)' });\r\n  }\r\n\r\n  const options = {\r\n    backgroundColor: props.darkMode ? 'rgb(32, 84, 109)' : 'white',\r\n    data: [{\r\n      type: \"doughnut\",\r\n      dataPoints,\r\n      toolTipContent: \"{name}: ${y}\"\r\n    }]\r\n  };\r\n\r\n  return (\r\n    <div className={classes.ChartContainer}>\r\n      <Chart options={options} darkMode={props.darkMode} />\r\n      <h1>You've reached {percReached}% of your budget this month</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  budget: state.budget.budget,\r\n  darkMode: state.theme.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps)(BudgetChart);\r\n","import React from 'react';\r\nimport classes from './CategChart.module.css';\r\nimport Chart from '../../UI/Chart/Chart';\r\nimport { connect } from 'react-redux';\r\n\r\nconst CategChart = props => {\r\n  // shows category percentage of total, cycles through colors\r\n  const colors = ['#29b6f6', '#03a9f4', '#039be5', '#0288d1', '#0277bd', '#01579b'];\r\n  let totBudget = 0;\r\n  for (let budg of props.budget) { totBudget += Number(budg.budget); }\r\n  const dataPoints = props.budget.map((budg, i) => {\r\n    return {\r\n      label: budg.category,\r\n      y: ((budg.budget / totBudget) * 100).toFixed(2),\r\n      val: Number(budg.budget).toFixed(2),\r\n      color: colors[i % 6]\r\n    };\r\n  });\r\n\r\n  const options = {\r\n    backgroundColor: props.darkMode ? 'rgb(32, 84, 109)' : 'white',\r\n    data: [{\r\n      type: \"pie\",\r\n\t\t\ttoolTipContent: \"{label}: {y}% (${val})\",\r\n\t\t\tindexLabel: \"{y}%\",\r\n      indexLabelFontWeight: \"bold\",\r\n\t\t\tindexLabelPlacement: \"inside\",\r\n      dataPoints\r\n    }]\r\n  };\r\n\r\n  return (\r\n    <div className={classes.ChartContainer}>\r\n      <Chart options={options} darkMode={props.darkMode} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  budget: state.budget.budget,\r\n  darkMode: state.theme.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps)(CategChart);\r\n","import React, { useState, useEffect } from 'react';\r\nimport classes from './ChartContainer.module.css';\r\nimport { caretIcon } from '../../UI/UIIcons';\r\nimport BudgetChart from '../BudgetChart/BudgetChart';\r\nimport CategChart from '../CategChart/CategChart';\r\nimport { usePrevious } from '../../../utils/customHooks';\r\n\r\nconst ChartContainer = props => {\r\n  const prevShow = usePrevious(props.show);\r\n  const [showChart, setShowChart] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // if charts switched from hidden -> shown then reanimate charts using key\r\n    if (!prevShow && props.show) { setShowChart(prev => !prev); }\r\n  }, [props.show, prevShow]);\r\n\r\n  return (\r\n    <div className={props.show ? classes.Charts : classes.HideCharts}>\r\n      <div className={classes.Chart}><BudgetChart key={showChart} /></div>\r\n      <div className={classes.Chart}><CategChart key={showChart} /></div>\r\n      <div className={props.darkMode ? `${classes.Btn} ${classes.DarkBtn}` : classes.Btn}>\r\n        <button onClick={props.change}>\r\n          {props.show ? 'Hide Charts' : 'Show Charts'}\r\n          <span className={props.show ? classes.CaretDown : classes.CaretRight}>{caretIcon}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport classes from './BudgetPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../../store/actions/index';\r\nimport NewBudgetPanel from '../NewBudgetPanel/NewBudgetPanel';\r\nimport { caretIcon, pencilIcon, trashIcon, plusIcon } from '../../UI/UIIcons';\r\nimport EditBudgetPanel from '../EditBudgetPanel/EditBudgetPanel';\r\nimport { instance as axios } from '../../../axios';\r\nimport BudgetBars from '../BudgetBars/BudgetBars';\r\nimport BlueBtn from '../../UI/Btns/BlueBtn/BlueBtn';\r\nimport GreenBtn from '../../UI/Btns/GreenBtn/GreenBtn';\r\nimport DeletePanel from '../../UI/DeletePanel/DeletePanel';\r\nimport { formatNum } from '../../../utils/formatNum';\r\nimport { formatDate3 } from '../../../utils/formatDate';\r\nimport AddTrans from '../AddTrans/AddTrans';\r\nimport ChartContainer from '../ChartContainer/ChartContainer';\r\n\r\nconst BudgetPage = props => {\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [showBudgetPanel, setShowBudgetPanel] = useState(false);\r\n  const [showDeletePanel, setShowDeletePanel] = useState(false);\r\n  const [showCategs, setShowCategs] = useState([]);\r\n  const [addTransCateg, setAddTransCateg] = useState('');\r\n  const [transDesc, setTransDesc] = useState('');\r\n  const [transCost, setTransCost] = useState('');\r\n  const [showCharts, setShowCharts] = useState(true);\r\n  const [totBudget, setTotBudget] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // get total budget to display\r\n    let tot = 0;\r\n    for (let budg of props.budget) { tot += Number(budg.budget); }\r\n    setTotBudget(tot);\r\n  }, [props.budget]);\r\n\r\n  const showTransHandler = categ => {\r\n    const i = showCategs.findIndex(val => val === categ);\r\n    if (i === -1) { return setShowCategs(showCategs.concat([categ])); }\r\n    setShowCategs(showCategs.filter(val => val !== categ));\r\n  };\r\n\r\n  const addTransHandler = categ => {\r\n    setTransDesc('');\r\n    setTransCost('');\r\n    setAddTransCateg(categ);\r\n  };\r\n\r\n  const confirmAddTransHandler = () => {\r\n    if (transCost === '' || transCost === 0 || transDesc === '' ||\r\n     transCost > 999999999 || transDesc.length > 70) { return; }\r\n    const budgets = props.budget.map((budg, i) => {\r\n      if (budg.category === addTransCateg) {\r\n        const transactions = [...budg.transactions];\r\n        if (transactions.length === 20) { transactions.pop(); }\r\n        transactions.unshift({ desc: transDesc, val: transCost, date: String(new Date()) });\r\n        return { ...budg, transactions };\r\n      } else { return budg; }\r\n    });\r\n    if (props.isDemo) {\r\n      setAddTransCateg('');\r\n      props.addNotif('Transaction Added');\r\n      return props.setBudget(budgets);\r\n    }\r\n    axios.put('budgets', { budgets }).then(res => {\r\n      setAddTransCateg('');\r\n      props.addNotif('Transaction Added');\r\n      props.setBudget(budgets);\r\n    }).catch(err => { console.log(err); });\r\n  };\r\n\r\n  const deleteHelper = () => {\r\n    props.deleteBudget();\r\n    props.addNotif('Budget deleted');\r\n    setShowDeletePanel(false);\r\n  };\r\n\r\n  const deleteHandler = () => {\r\n    if (props.isDemo) { return deleteHelper(); }\r\n    axios.delete('budgets').then(res => { deleteHelper(); }).catch(err => { return; });\r\n  };\r\n\r\n  return (\r\n    <div className={props.darkMode ? `${classes.Container} ${classes.Dark}` : classes.Container}>\r\n      <div className={classes.Content}>\r\n        <h1 className={classes.Title}>Budgeting</h1>\r\n        {props.budget.length ? (\r\n          <React.Fragment>\r\n            <ChartContainer show={showCharts} change={() => setShowCharts(prev => !prev)} darkMode={props.darkMode} />\r\n            <div className={classes.Budget}>\r\n              <h1 className={classes.TotalBudget}>Total monthly budget: ${formatNum(totBudget)}</h1>\r\n              <div className={classes.Options}>\r\n                <div className={classes.Btn}><BlueBtn big clicked={() => setShowBudgetPanel(true)}>{pencilIcon}Edit Budget</BlueBtn></div>\r\n                <div className={classes.Btn}><BlueBtn big clicked={() => setShowDeletePanel(true)}>{trashIcon}Delete Budget</BlueBtn></div>\r\n                <EditBudgetPanel showUp={showCharts} show={showBudgetPanel} close={() => setShowBudgetPanel(false)} />\r\n                <DeletePanel showUp={showCharts} show={showDeletePanel} mode=\"budget\" close={() => setShowDeletePanel(false)} delete={deleteHandler} />\r\n              </div>\r\n              {props.budget.map((budget, i) => {\r\n                return (\r\n                  <div className={classes.BudgetDiv} key={i}>\r\n                    <BudgetBars budget={budget} darkMode={props.darkMode} />\r\n                    <div className={classes.Btns}>\r\n                      <button className={classes.ShowBtn} onClick={() => showTransHandler(budget.category)}>\r\n                        Transactions<span className={showCategs.includes(budget.category) ? classes.CaretDown : classes.CaretRight}>{caretIcon}</span>\r\n                      </button>\r\n                      <span className={classes.AddBtn}><GreenBtn big clicked={() => addTransHandler(budget.category)}>{plusIcon}Add Transaction</GreenBtn></span>\r\n                    </div>\r\n                    <div className={showCategs.includes(budget.category) ? classes.Transactions : classes.HideTransactions}>\r\n                      {budget.transactions.map((transaction, i) => (\r\n                        <div className={classes.Transaction} style={i === 0 ? { marginTop: '15px' } : null} key={i}>\r\n                          <div>{transaction.desc}</div>\r\n                          <div>${formatNum(transaction.val)}</div>\r\n                          <div>{formatDate3(new Date(transaction.date))}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <AddTrans show={addTransCateg === budget.category} transDesc={transDesc} close={() => setAddTransCateg('')} darkMode={props.darkMode}\r\n                      transCost={transCost} confirm={confirmAddTransHandler} changeDesc={val => setTransDesc(val)} changeCost={val => setTransCost(val)} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div className={classes.NewDiv}>\r\n            <div className={classes.CreateBtn}>\r\n              <BlueBtn big clicked={() => setShowCreate(true)}>Create a new budget</BlueBtn>\r\n            </div>\r\n            <NewBudgetPanel show={showCreate} close={() => setShowCreate(false)} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  budget: state.budget.budget,\r\n  isDemo: state.auth.isDemo,\r\n  darkMode: state.theme.darkMode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setBudget: budget => dispatch(actions.setBudget(budget)),\r\n  addNotif: notif => dispatch(actions.addNotif(notif)),\r\n  deleteBudget: () => dispatch(actions.deleteBudget())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BudgetPage);\r\n"],"sourceRoot":""}